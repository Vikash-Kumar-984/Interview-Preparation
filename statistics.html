<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics Q&A Compendium</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7; 
            max-width: 900px; 
            margin: 40px auto; 
            padding: 0 20px;
            color: #333;
        }
        h1, h2, h3 { 
            color: #2c3e50; 
            font-weight: 600;
        }
        h1 {
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 20px;
            margin-bottom: 40px;
        }
        h2 {
            border-bottom: 2px solid #ecf0f1; 
            padding-bottom: 10px; 
            margin-top: 50px;
        }
        pre { 
            background-color: #f8f9fa; 
            padding: 20px; 
            border: 1px solid #dee2e6;
            border-radius: 8px; 
            overflow-x: auto; 
            font-size: 0.95em;
        }
        code { 
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
        }
        strong { 
            color: #2980b9; 
            font-weight: 600;
        }
        .meta { 
            font-style: italic; 
            color: #7f8c8d; 
            font-size: 0.9em; 
            text-align: right;
            border-top: 1px dashed #ccc;
            padding-top: 10px;
            margin-top: 15px;
        }
        hr { 
            border: 0; 
            height: 1px; 
            background: #ddd; 
            margin: 40px 0; 
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <h1>Comprehensive Statistics Q&A</h1>

    <h2>T-Test and Student’s T-Distribution</h2>
    
    <h3>1. What is a T-test, and when should it be used instead of a Z-test?</h3>
    <p>
        A <strong>T-test</strong> is a statistical hypothesis test used to determine if there is a significant difference between the means of two groups. You should use a T-test instead of a Z-test when the <strong>sample size is small (typically $n < 30$)</strong> and the <strong>population standard deviation ($\sigma$) is unknown</strong>. The T-test uses the sample standard deviation ($s$) as an estimate for $\sigma$, which accounts for the extra uncertainty present in small samples.
    </p>
    <p class="meta">[Data Science, Data Analyst], [Google, Flipkart], 3</p>
    <hr>
    
    <h3>2. Explain how a paired T-test differs from an independent T-test.</h3>
    <p>
        The key difference lies in the nature of the samples being compared:
        <ul>
            <li>An <strong>independent T-test</strong> (or two-sample T-test) compares the means of <strong>two separate, unrelated groups</strong>. For example, comparing the average test scores of students from two different schools. The samples in each group are independent of each other.</li>
            <li>A <strong>paired T-test</strong> compares the means of the <strong>same group at two different times or under two different conditions</strong>. It's used for "before and after" scenarios or matched pairs. For example, measuring the change in blood pressure for the same group of patients before and after taking a medication. It tests if the average difference between paired observations is significantly different from zero.</li>
        </ul>
    </p>
    <p class="meta">[Data Scientist, Data Engineer], [Amazon, Paytm], 2</p>
    <hr>

    <h3>3. What assumptions need to be met for a valid T-test?</h3>
    <p>For a T-test to be valid, several assumptions must be met:</p>
    <ul>
        <li><strong>Independence:</strong> The observations within each sample must be independent.</li>
        <li><strong>Normality:</strong> The data in each group should be approximately normally distributed. For larger sample sizes ($n \ge 30$), the Central Limit Theorem allows this assumption to be relaxed.</li>
        <li><strong>Homogeneity of Variances (for independent T-tests):</strong> The variances of the two groups being compared should be roughly equal. This is also known as homoscedasticity. Levene's test can be used to check this assumption.</li>
    </ul>
    <hr>

    <h3>4. How would you implement a T-test in Python using `scipy.stats`?</h3>
    <p>You can use `ttest_ind` for an independent T-test and `ttest_rel` for a paired T-test from the `scipy.stats` library.</p>
    
    <p><strong>Example: Independent T-test</strong></p>
    <pre><code>
from scipy import stats
import numpy as np

# Sample data for two independent groups
group1_scores = np.random.normal(loc=85, scale=5, size=25)
group2_scores = np.random.normal(loc=80, scale=6, size=25)

# Perform the independent T-test
t_statistic, p_value = stats.ttest_ind(group1_scores, group2_scores)

print(f"Independent T-test Results:")
print(f"T-statistic: {t_statistic:.4f}")
print(f"P-value: {p_value:.4f}")
    </code></pre>
    
    <p><strong>Example: Paired T-test</strong></p>
    <pre><code>
# Sample data for paired observations (e.g., before and after)
scores_before = np.random.normal(loc=75, scale=8, size=30)
scores_after = scores_before + np.random.normal(loc=5, scale=3, size=30) # Simulating an improvement

# Perform the paired T-test
t_statistic_rel, p_value_rel = stats.ttest_rel(scores_before, scores_after)

print(f"\nPaired T-test Results:")
print(f"T-statistic: {t_statistic_rel:.4f}")
print(f"P-value: {p_value_rel:.4f}")
    </code></pre>
    <p class="meta">[Data Science, Business Analyst], [Microsoft, Swiggy], 3</p>
    <hr>
    
    <h3>5. What is Student's T-distribution, and how does it differ from the standard normal distribution?</h3>
    <p>
        <strong>Student's T-distribution</strong> is a probability distribution that is used to estimate population parameters when the sample size is small and/or the population standard deviation is unknown.
    </p>
    <p>Key differences from the standard normal distribution (Z-distribution):</p>
    <ul>
        <li><strong>Heavier Tails:</strong> The T-distribution has fatter tails than the normal distribution. This means it assigns a higher probability to extreme values, accounting for the increased uncertainty that comes with small sample sizes.</li>
        <li><strong>Shape depends on Degrees of Freedom:</strong> The shape of the T-distribution is determined by a parameter called <strong>degrees of freedom ($df$)</strong>. As the degrees of freedom increase (i.e., as the sample size gets larger), the T-distribution approaches the shape of the standard normal distribution.</li>
        <li><strong>Variance:</strong> The variance of the T-distribution is greater than 1, while the variance of the standard normal distribution is exactly 1.</li>
    </ul>
    <p class="meta">[Data Science, Data Analyst], [Flipkart, Google], 3</p>
    <hr>
    
    <h3>6. When would you use Student's T-distribution over the normal distribution?</h3>
    <p>
        You would use the <strong>Student's T-distribution</strong> in situations where you are making inferences about a population mean based on a sample, under the following conditions:
        <ol>
            <li>The <strong>population standard deviation ($\sigma$) is unknown</strong> and you must use the sample standard deviation ($s$) as an estimate. This is the most common scenario in real-world data analysis.</li>
            <li>The <strong>sample size is small</strong> (typically $n < 30$).</li>
        </ol>
        Even with larger sample sizes, if $\sigma$ is unknown, the T-distribution is technically the correct choice, but it becomes virtually indistinguishable from the normal distribution.
    </p>
    <p class="meta">[Data Scientist, Machine Learning Engineer], [Amazon, Zomato], 2</p>
    <hr>

    <h3>7. What are the properties of Student's T-distribution?</h3>
    <ul>
        <li><strong>Symmetry:</strong> It is symmetric about its mean, which is 0.</li>
        <li><strong>Bell-Shaped:</strong> Like the normal distribution, it has a bell shape, but it's shorter and wider.</li>
        <li><strong>Degrees of Freedom ($df$):</strong> Its shape depends on the degrees of freedom. Lower $df$ results in heavier tails. As $df \to \infty$, the T-distribution converges to the standard normal distribution.</li>
        <li><strong>Mean and Variance:</strong> The mean is 0 (for $df > 1$). The variance is $df / (df - 2)$ (for $df > 2$), which is always greater than 1.</li>
    </ul>
    <hr>

    <h3>8. How do you calculate the degrees of freedom in a T-test using Student's T-distribution?</h3>
    <p>The calculation for degrees of freedom ($df$) depends on the type of T-test:</p>
    <ul>
        <li><strong>One-Sample T-test:</strong> $df = n - 1$, where $n$ is the sample size.</li>
        <li><strong>Paired T-test:</strong> $df = n - 1$, where $n$ is the number of pairs.</li>
        <li><strong>Independent T-test (assuming equal variances):</strong> $df = n_1 + n_2 - 2$, where $n_1$ and $n_2$ are the sizes of the two samples.</li>
    </ul>
    <p class="meta">[Data Science, Business Analyst], [Microsoft, Swiggy], 3</p>
    <hr>

    <h3>9. What are the key differences between a T-test and a Z-test?</h3>
    <p>The primary differences stem from the conditions under which they are used:</p>
    <table border="1" style="width:100%; border-collapse: collapse;">
        <tr style="background-color:#f2f2f2;">
            <th style="padding: 8px;">Feature</th>
            <th style="padding: 8px;">T-test</th>
            <th style="padding: 8px;">Z-test</th>
        </tr>
        <tr>
            <td style="padding: 8px;"><strong>Population Standard Deviation ($\sigma$)</strong></td>
            <td style="padding: 8px;">Unknown (uses sample standard deviation, $s$)</td>
            <td style="padding: 8px;">Known</td>
        </tr>
        <tr>
            <td style="padding: 8px;"><strong>Sample Size (n)</strong></td>
            <td style="padding: 8px;">Typically small ($n < 30$)</td>
            <td style="padding: 8px;">Typically large ($n \ge 30$)</td>
        </tr>
        <tr>
            <td style="padding: 8px;"><strong>Underlying Distribution</strong></td>
            <td style="padding: 8px;">Student's T-distribution</td>
            <td style="padding: 8px;">Standard Normal Distribution</td>
        </tr>
    </table>
    <p class="meta">[Data Science, Data Analyst], [Flipkart, Amazon], 3</p>
    <hr>
    
    <h3>10. When would you choose to use a T-test over a Z-test in a research scenario?</h3>
    <p>
        You would choose a <strong>T-test</strong> in a research scenario when you are working with a <strong>small sample</strong> and, crucially, when the <strong>standard deviation of the entire population is unknown</strong>. For instance, if you're testing a new teaching method on a class of 25 students, you don't know the standard deviation for all students who could potentially use this method. Therefore, you must estimate it from your sample, making a T-test the appropriate choice. A Z-test would be inappropriate because it requires knowledge of the population standard deviation, which is rarely available in practical research.
    </p>
    <p class="meta">[Business Analyst, Data Scientist], [Google, Paytm], 2</p>
    <hr>

    <h3>11. Explain how sample size impacts the decision to use a T-test or Z-test.</h3>
    <p>
        Sample size is a critical factor:
        <ul>
            <li><strong>Small Sample Size ($n < 30$):</strong> With a small sample, the sample standard deviation ($s$) is a less reliable estimate of the population standard deviation ($\sigma$). The T-distribution's heavier tails account for this added uncertainty. Therefore, a <strong>T-test is required</strong>.</li>
            <li><strong>Large Sample Size ($n \ge 30$):</strong> According to the Central Limit Theorem, the distribution of sample means approaches normal as $n$ increases. Also, the sample standard deviation ($s$) becomes a very good estimate of the population standard deviation ($\sigma$). In this case, the T-distribution becomes almost identical to the Z-distribution. So, while a T-test is still technically correct (if $\sigma$ is unknown), a <strong>Z-test can be used as a close approximation</strong>.</li>
        </ul>
    </p>
    <hr>
    
    <h3>12. How does the assumption of population variance affect the choice between T-test and Z-test?</h3>
    <p>
        The assumption about the population variance (or standard deviation) is the <strong>single most important factor</strong> in choosing between a T-test and a Z-test.
        <ul>
            <li>If the population variance ($\sigma^2$) is <strong>known</strong>, you should always use a <strong>Z-test</strong>, regardless of the sample size.</li>
            <li>If the population variance ($\sigma^2$) is <strong>unknown</strong>, you must estimate it using the sample variance ($s^2$). In this case, you should always use a <strong>T-test</strong>.</li>
        </ul>
        In practice, the population variance is almost never known, which is why the T-test is much more commonly used.
    </p>

    <h2>Confidence Interval and Margin of Error</h2>

    <h3>13. What is a confidence interval, and why is it important in inferential statistics?</h3>
    <p>
        A <strong>confidence interval (CI)</strong> is a range of values, derived from sample data, that is likely to contain the true value of an unknown population parameter (e.g., the population mean).
    </p>
    <p>
        It's important because it provides more information than a single point estimate. Instead of just giving one number, it gives a range of plausible values for the parameter, and it quantifies the level of uncertainty associated with our estimate. For example, a 95% CI for the average height of men suggests we are 95% confident that the true population average height falls within that interval. This helps in understanding the precision and reliability of our findings.
    </p>
    <p class="meta">[Data Science, Data Analyst], [Amazon, Flipkart], 3</p>
    <hr>

    <h3>14. Explain the relationship between confidence intervals and the margin of error.</h3>
    <p>
        The relationship is direct and simple. A confidence interval is constructed by taking a point estimate (like the sample mean) and adding and subtracting a margin of error.
    </p>
    <p>
        Formula: <strong>Confidence Interval = Point Estimate ± Margin of Error</strong>
    </p>
    <p>
        The <strong>margin of error</strong> quantifies the "plus or minus" part of the interval. It represents the maximum expected difference between the true population parameter and the sample estimate. A larger margin of error results in a wider, less precise confidence interval, while a smaller margin of error yields a narrower, more precise interval.
    </p>
    <hr>

    <h3>15. How do you interpret a 95% confidence interval in statistical analysis?</h3>
    <p>
        A 95% confidence interval has a specific, frequentist interpretation:
    </p>
    <p>
        "If we were to take many random samples from the same population and construct a 95% confidence interval for each sample, we would expect about 95% of those intervals to contain the true, unknown population parameter."
    </p>
    <p>
        <strong>Incorrect interpretation:</strong> It is wrong to say, "There is a 95% probability that the true population mean is within this specific interval." The true mean is a fixed value; it's either in the interval or it isn't. The 95% refers to the reliability of the procedure used to create the interval.
    </p>
    <hr>

    <h3>16. How can you calculate confidence intervals in Python using `scipy.stats`?</h3>
    <p>
        You can use the `interval()` method from a specific distribution object (like `t` for T-distribution or `norm` for normal distribution) in `scipy.stats`.
    </p>
    <pre><code>
import numpy as np
from scipy import stats

# Generate sample data
data = np.random.normal(loc=100, scale=15, size=50)

# Calculate sample statistics
sample_mean = np.mean(data)
sample_std = np.std(data, ddof=1) # ddof=1 for sample std dev
n = len(data)
se = sample_std / np.sqrt(n) # Standard error of the mean

# Calculate the 95% confidence interval for the mean
# We use the t-distribution because the population std is unknown
confidence_level = 0.95
degrees_freedom = n - 1

# The interval() method returns the endpoints of the interval
ci_95 = stats.t.interval(confidence_level, degrees_freedom, loc=sample_mean, scale=se)

print(f"Sample Mean: {sample_mean:.2f}")
print(f"95% Confidence Interval for the mean: ({ci_95[0]:.2f}, {ci_95[1]:.2f})")
    </code></pre>
    
    <h2>Chi-Square Test & Chi-Square Distribution</h2>

    <h3>17. What is the Chi-square test, and when is it used in statistical analysis?</h3>
    <p>
        The <strong>Chi-square ($\chi^2$) test</strong> is a non-parametric statistical test used to analyze categorical data. It helps determine if there's a significant association between two categorical variables or if the observed frequency distribution of a single categorical variable differs from an expected distribution.
    </p>
    <p>It's used in two main scenarios:</p>
    <ol>
        <li><strong>Chi-square Test of Independence:</strong> To determine if there is a significant association between two categorical variables (e.g., "Is there a relationship between a person's favorite color and their gender?").</li>
        <li><strong>Chi-square Goodness-of-Fit Test:</strong> To determine if the observed frequencies of a single categorical variable match the expected frequencies from a hypothesized distribution (e.g., "Does a six-sided die roll each number with equal frequency?").</li>
    </ol>
    <p class="meta">[Data Science, Business Analyst], [Flipkart, Amazon], 3</p>
    <hr>

    <h3>18. Explain how to perform a Chi-square test of independence.</h3>
    <p>To perform a Chi-square test of independence, you follow these steps:</p>
    <ol>
        <li><strong>State Hypotheses:</strong>
            <ul>
                <li><strong>Null Hypothesis ($H_0$):</strong> The two categorical variables are independent (no association).</li>
                <li><strong>Alternative Hypothesis ($H_a$):</strong> The two categorical variables are dependent (there is an association).</li>
            </ul>
        </li>
        <li><strong>Create a Contingency Table:</strong> Organize the observed frequencies of the two variables into a table.</li>
        <li><strong>Calculate Expected Frequencies:</strong> For each cell in the table, calculate the expected frequency under the assumption that the variables are independent. The formula is: $$ E = \frac{(\text{Row Total}) \times (\text{Column Total})}{\text{Grand Total}} $$</li>
        <li><strong>Calculate the Chi-square Statistic:</strong> For each cell, calculate $(O-E)^2/E$, where $O$ is the observed frequency and $E$ is the expected frequency. The $\chi^2$ statistic is the sum of these values across all cells. $$ \chi^2 = \sum \frac{(O - E)^2}{E} $$</li>
        <li><strong>Determine p-value:</strong> Compare the calculated $\chi^2$ statistic to a Chi-square distribution with degrees of freedom $df = (\text{rows} - 1) \times (\text{cols} - 1)$ to find the p-value.</li>
        <li><strong>Conclusion:</strong> If the p-value is less than the significance level (e.g., 0.05), reject the null hypothesis and conclude there is a significant association between the variables.</li>
    </ol>
    <p class="meta">[Data Analyst, Data Scientist], [Google, Swiggy], 2</p>
    <hr>
    
    <h3>19. How is the Chi-square distribution related to categorical data analysis?</h3>
    <p>
        The <strong>Chi-square distribution</strong> is the cornerstone of categorical data analysis. It serves as the sampling distribution for the Chi-square test statistic. When the assumptions of the Chi-square test are met, the calculated test statistic ($\sum \frac{(O - E)^2}{E}$) follows a Chi-square distribution. This allows us to determine the probability (p-value) of observing a discrepancy between observed and expected frequencies as large as or larger than the one we found, purely by chance. This probability is what helps us decide whether any observed association is statistically significant.
    </p>
    <hr>

    <h3>20. Provide a Python implementation of a Chi-square test using `scipy.stats`.</h3>
    <p>
        You can use the `chi2_contingency` function from `scipy.stats`. It takes an observed contingency table as input.
    </p>
    <pre><code>
import numpy as np
from scipy.stats import chi2_contingency

# Create a contingency table (observed frequencies)
# Example: Relationship between ice cream flavor preference and gender
#            Chocolate | Vanilla | Strawberry
#   Male   |     40    |    30   |     10
#  Female  |     50    |    60   |     30
observed = np.array([[40, 30, 10], 
                     [50, 60, 30]])

# Perform the Chi-square test of independence
chi2_stat, p_val, dof, expected = chi2_contingency(observed)

print(f"Contingency Table (Observed):\n{observed}")
print(f"\nExpected Frequencies:\n{np.round(expected, 2)}")
print(f"\nDegrees of Freedom: {dof}")
print(f"Chi-square Statistic: {chi2_stat:.4f}")
print(f"P-value: {p_val:.4f}")

if p_val < 0.05:
    print("\nConclusion: Reject the null hypothesis. There is a significant association.")
else:
    print("\nConclusion: Fail to reject the null hypothesis. There is no significant association.")
    </code></pre>

    <h2>Bayes' Theorem</h2>

    <h3>21. What is Bayes' theorem, and how is it applied in data science?</h3>
    <p>
        <strong>Bayes' theorem</strong> is a mathematical formula that describes the probability of an event, based on prior knowledge of conditions that might be related to the event. It allows us to update our beliefs about a hypothesis in light of new evidence.
    </p>
    <p>The formula is:</p>
    $$ P(A|B) = \frac{P(B|A) \cdot P(A)}{P(B)} $$
    <p>Where:</p>
    <ul>
        <li>$P(A|B)$ is the <strong>posterior probability</strong>: the probability of hypothesis A given the evidence B.</li>
        <li>$P(B|A)$ is the <strong>likelihood</strong>: the probability of observing evidence B given that hypothesis A is true.</li>
        <li>$P(A)$ is the <strong>prior probability</strong>: the initial probability of hypothesis A before observing any evidence.</li>
        <li>$P(B)$ is the <strong>marginal probability</strong> of the evidence B.</li>
    </ul>
    <p>In data science, it is the foundation for <strong>Bayesian inference</strong> and is used in many machine learning algorithms, most notably <strong>Naive Bayes classifiers</strong> for tasks like spam filtering and text classification. It's also used in A/B testing, medical diagnosis models, and probabilistic modeling.
    </p>
    <p class="meta">[Data Science, Machine Learning Engineer], [Amazon, Flipkart], 3</p>
    <hr>
    
    <h3>22. Explain how Bayes' theorem is used in spam filtering or medical diagnostics.</h3>
    <p><strong>Spam Filtering:</strong></p>
    <p>A Naive Bayes classifier uses Bayes' theorem to calculate the probability that an email is spam, given the words it contains.</p>
    <ul>
        <li><strong>Hypothesis (A):</strong> The email is spam.</li>
        <li><strong>Evidence (B):</strong> The email contains certain words (e.g., "free," "viagra," "offer").</li>
    </ul>
    <p>The model calculates $P(\text{Spam} | \text{Words})$. It uses a training dataset of spam and non-spam emails to learn:</p>
    <ul>
        <li>The <strong>prior probability</strong> of an email being spam, $P(\text{Spam})$.</li>
        <li>The <strong>likelihood</strong> of certain words appearing in spam emails, $P(\text{Words} | \text{Spam})$, and in non-spam emails, $P(\text{Words} | \text{Not Spam})$.</li>
    </ul>
    <p>When a new email arrives, it calculates the posterior probability for both "spam" and "not spam." The email is classified based on which probability is higher.</p>
    <p><strong>Medical Diagnostics:</strong></p>
    <p>Bayes' theorem helps determine the probability that a patient has a disease, given the result of a diagnostic test.</p>
    <ul>
        <li><strong>Hypothesis (A):</strong> The patient has the disease.</li>
        <li><strong>Evidence (B):</strong> The patient tested positive.</li>
    </ul>
    <p>We want to find $P(\text{Disease} | \text{Positive Test})$. We need to know:</p>
    <ul>
        <li>$P(\text{Positive Test} | \text{Disease})$: The sensitivity of the test (likelihood).</li>
        <li>$P(\text{Disease})$: The prevalence of the disease in the population (prior).</li>
        <li>$P(\text{Positive Test})$: The overall probability of anyone testing positive.</li>
    </ul>
    <p>This is crucial because a positive result from a test for a rare disease doesn't necessarily mean the patient is likely to have it. Bayes' theorem correctly incorporates the low prior probability of the disease.
    </p>
    <p class="meta">[Data Scientist, Data Analyst], [Google, Paytm], 2</p>
    <hr>
    
    <h3>23. What is the difference between prior, likelihood, and posterior probabilities in Bayes' theorem?</h3>
    <ul>
        <li><strong>Prior Probability $P(A)$</strong>: This is your initial belief or the probability of a hypothesis being true <strong>before</strong> you see any new evidence. For example, the general prevalence of a disease in the population.</li>
        <li><strong>Likelihood $P(B|A)$</strong>: This is the probability of observing the evidence $B$ <strong>if your hypothesis $A$ were true</strong>. It's how well the hypothesis explains the evidence. For example, the probability of a fire alarm going off given that there is a fire.</li>
        <li><strong>Posterior Probability $P(A|B)$</strong>: This is the updated probability of the hypothesis being true <strong>after</strong> considering the evidence. It's the result of the Bayesian calculation, combining the prior belief with the likelihood. It represents your revised belief.</li>
    </ul>
    <hr>

    <h3>24. How would you implement Bayes' theorem in Python for a classification problem?</h3>
    <p>A direct implementation of Bayes' theorem is the basis for the Naive Bayes classifier. The `scikit-learn` library provides an easy-to-use implementation.</p>
    <pre><code>
from sklearn.model_selection import train_test_split
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.naive_bayes import MultinomialNB
from sklearn.metrics import accuracy_score
import pandas as pd

# 1. Sample Data (e.g., email text and spam label)
data = {
    'text': ['free money offer', 'your meeting is scheduled', 'get your prize now', 'please review the document'],
    'label': ['spam', 'not spam', 'spam', 'not spam']
}
df = pd.DataFrame(data)

# 2. Preprocessing: Convert text data into numerical features
vectorizer = CountVectorizer()
X = vectorizer.fit_transform(df['text'])
y = df['label']

# 3. Split data into training and testing sets
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=42)

# 4. Train the Naive Bayes Classifier
# The model learns the prior probabilities and likelihoods from the training data
model = MultinomialNB()
model.fit(X_train, y_train)

# 5. Make Predictions (This is where Bayes' theorem is applied internally)
# The model calculates the posterior probability for each class and picks the highest one.
predictions = model.predict(X_test)
new_email_text = ['special offer just for you']
new_email_vectorized = vectorizer.transform(new_email_text)
prediction_new = model.predict(new_email_vectorized)


print(f"Test Predictions: {predictions}")
print(f"Prediction for new email '{new_email_text[0]}': {prediction_new[0]}")
    </code></pre>
    <p class="meta">[Data Science, Data Engineer], [Microsoft, Swiggy], 3</p>

    <h2>Goodness of Fit Test</h2>

    <h3>25. What is the goodness-of-fit test, and how is it used in statistical analysis?</h3>
    <p>
        A <strong>goodness-of-fit test</strong> is a statistical hypothesis test used to determine how well an observed sample distribution fits a hypothesized or expected distribution. In other words, it tests whether the sample data could have been drawn from a population with a specific theoretical distribution.
    </p>
    <p>
        It is used to answer questions like:
        <ul>
            <li>Does a die roll each of its six faces with equal probability (a uniform distribution)?</li>
            <li>Do the heights of students in a class follow a normal distribution?</li>
            <li>Does the frequency of customers arriving at a store follow a Poisson distribution?</li>
        </ul>
        The most common type is the <strong>Chi-square goodness-of-fit test</strong>, used for categorical data.
    </p>
    <p class="meta">[Data Science, Business Analyst], [Google, Flipkart], 3</p>
    <hr>
    
    <h3>26. How is the Chi-square goodness-of-fit test performed?</h3>
    <p>The steps are very similar to the test of independence:</p>
    <ol>
        <li><strong>State Hypotheses:</strong>
            <ul>
                <li><strong>Null Hypothesis ($H_0$):</strong> The sample data fits the expected distribution.</li>
                <li><strong>Alternative Hypothesis ($H_a$):</strong> The sample data does not fit the expected distribution.</li>
            </ul>
        </li>
        <li><strong>Collect Observed Frequencies ($O$):</strong> Count the number of observations in each category.</li>
        <li><strong>Determine Expected Frequencies ($E$):</strong> Calculate the frequencies you would expect in each category if the null hypothesis were true.</li>
        <li><strong>Calculate the Chi-square Statistic:</strong> Use the same formula: $$ \chi^2 = \sum \frac{(O - E)^2}{E} $$</li>
        <li><strong>Determine p-value:</strong> Compare the calculated $\chi^2$ statistic to a Chi-square distribution with degrees of freedom $df = k - 1 - p$, where $k$ is the number of categories and $p$ is the number of parameters estimated from the data (often $p=0$).</li>
        <li><strong>Conclusion:</strong> If the p-value is below the significance level, reject the null hypothesis, concluding the data does not fit the expected distribution.</li>
    </ol>
    <p class="meta">[Data Analyst, Data Scientist], [Amazon, Zomato], 2</p>
    <hr>

    <h3>27. When would you use a goodness-of-fit test for a dataset?</h3>
    <p>
        You would use a goodness-of-fit test when you have a <strong>single categorical variable</strong> from a sample and you want to check if its frequency distribution is consistent with a theoretical or hypothesized distribution. For example:
        <ul>
            <li>A casino wants to ensure its roulette wheel is fair. They record the outcomes of 370 spins and test if the observed frequencies for each number (0-36) are consistent with a uniform distribution.</li>
            <li>A geneticist predicts that the offspring of a cross-breed will have four different phenotypes in a 9:3:3:1 ratio. They would use a goodness-of-fit test to see if their observed counts match this theoretical ratio.</li>
            <li>A data scientist wants to check if the assumption of normality for a continuous variable is valid before applying a parametric test. They could bin the continuous data and perform a Chi-square goodness-of-fit test (though other tests like Shapiro-Wilk are better for this specific purpose).</li>
        </ul>
    </p>
    <hr>
    
    <h3>28. How can you implement a goodness-of-fit test in Python using `scipy.stats`?</h3>
    <p>
        You can use the `chisquare` function from `scipy.stats`.
    </p>
    <pre><code>
from scipy.stats import chisquare

# Scenario: We roll a 6-sided die 120 times and want to know if it's fair.
# If fair, we expect each face to appear 120 / 6 = 20 times.
observed_frequencies = [25, 15, 22, 18, 20, 20] # Our actual roll counts
expected_frequencies = [20, 20, 20, 20, 20, 20] # What we expect for a fair die

# Perform the Chi-square goodness-of-fit test
chi2_stat, p_val = chisquare(f_obs=observed_frequencies, f_exp=expected_frequencies)

print(f"Observed Frequencies: {observed_frequencies}")
print(f"Expected Frequencies: {expected_frequencies}")
print(f"\nChi-square Statistic: {chi2_stat:.4f}")
print(f"P-value: {p_val:.4f}")

if p_val < 0.05:
    print("\nConclusion: Reject the null hypothesis. The die may be biased.")
else:
    print("\nConclusion: Fail to reject the null hypothesis. The die appears to be fair.")
    </code></pre>

    <h2>F-Distribution and F-Test</h2>
    
    <h3>29. What is the F-distribution, and how is it used in statistical analysis?</h3>
    <p>
        The <strong>F-distribution</strong> is a continuous probability distribution that arises in statistics, particularly in hypothesis testing. It is the ratio of two independent Chi-square distributed variables, each divided by its degrees of freedom.
    </p>
    <p>
        It is used primarily in:
        <ul>
            <li><strong>Analysis of Variance (ANOVA):</strong> To test the equality of means across two or more groups. The F-statistic in ANOVA compares the variance between groups to the variance within groups.</li>
            <li><strong>Testing for Equality of Variances:</strong> An F-test can be used to determine if two populations have equal variances.</li>
            <li><strong>Regression Analysis:</strong> To test the overall significance of a regression model (i.e., whether at least one predictor variable has a non-zero effect).</li>
        </ul>
        The distribution is defined by two separate degrees of freedom parameters: one for the numerator ($df_1$) and one for the denominator ($df_2$).
    </p>
    <p class="meta">[Data Science, Business Analyst], [Amazon, Flipkart], 3</p>
    <hr>
    
    <h3>30. Explain the relationship between the F-distribution and analysis of variance (ANOVA).</h3>
    <p>
        The F-distribution is the core of ANOVA. In ANOVA, the goal is to determine if there are any statistically significant differences between the means of three or more independent groups.
    </p>
    <p>
        The procedure calculates an <strong>F-statistic</strong>, which is a ratio:
        $$ F = \frac{\text{Variance between groups}}{\text{Variance within groups}} = \frac{\text{MSB}}{\text{MSW}} $$
    </p>
    <ul>
        <li><strong>Variance between groups (MSB):</strong> Measures how much the means of the different groups vary from the overall mean.</li>
        <li><strong>Variance within groups (MSW):</strong> Measures the average variability of observations inside each group.</li>
    </ul>
    <p>
        If the null hypothesis (that all group means are equal) is true, the variance between groups should be roughly equal to the variance within groups, and the F-statistic will be close to 1. If the group means are very different, the variance between groups will be much larger than the variance within groups, leading to a large F-statistic.
    </p>
    <p>
        This calculated F-statistic is then compared to the F-distribution to find a p-value, which tells us the probability of observing such a large F-statistic if the null hypothesis were true.
    </p>
    <p class="meta">[Data Analyst, Data Scientist], [Google, Paytm], 2</p>
    <hr>
    
    <h3>31. What are the properties of the F-distribution in hypothesis testing?</h3>
    <ul>
        <li><strong>Positively Skewed:</strong> The F-distribution is always right-skewed. Since the F-statistic is a ratio of variances, it cannot be negative.</li>
        <li><strong>Defined by Two Degrees of Freedom:</strong> Its shape is determined by the numerator degrees of freedom ($df_1$) and the denominator degrees of freedom ($df_2$).</li>
        <li><strong>Range:</strong> The values range from 0 to infinity.</li>
        <li><strong>Convergence:</strong> As $df_1$ and $df_2$ increase, the F-distribution becomes less skewed and approaches a normal distribution.</li>
    </ul>
    <hr>
    
    <h3>32. How do you calculate the F-statistic in Python using `scipy.stats`?</h3>
    <p>
        You don't typically calculate the F-statistic directly but rather get it as an output from a function that performs an F-test, like ANOVA.
    </p>
    <pre><code>
from scipy import stats
import numpy as np

# Example for One-Way ANOVA
# We have test scores from three different teaching methods
group_a = [85, 86, 88, 75, 78, 94, 98, 79, 71, 80]
group_b = [91, 92, 93, 85, 86, 87, 94, 96, 82, 85]
group_c = [79, 78, 88, 94, 92, 85, 83, 85, 82, 81]

# Perform one-way ANOVA, which returns the F-statistic and p-value
f_statistic, p_value = stats.f_oneway(group_a, group_b, group_c)

print(f"Calculated F-statistic: {f_statistic:.4f}")
print(f"P-value: {p_value:.4f}")

if p_value < 0.05:
    print("\nConclusion: At least one group mean is different from the others.")
else:
    print("\nConclusion: There are no significant differences between the group means.")
    </code></pre>
    <hr>
    
    <h3>33. What is an F-test, and how does it differ from other statistical tests?</h3>
    <p>
        An <strong>F-test</strong> is any statistical test in which the test statistic has an F-distribution under the null hypothesis. It is primarily used to compare statistical models that have been fitted to a dataset, in order to identify the model that best fits the population from which the data were sampled.
    </p>
    <p>
        It differs from other tests like T-tests or Z-tests in its primary application:
        <ul>
            <li><strong>T-tests/Z-tests</strong> are generally used to compare the <strong>means</strong> of one or two groups.</li>
            <li><strong>Chi-square tests</strong> are used to analyze <strong>categorical data</strong> (frequencies and proportions).</li>
            <li><strong>F-tests</strong> are generally used to compare <strong>variances</strong>. This application allows them to be used for comparing the means of three or more groups (ANOVA) or for testing the overall significance of a regression model.</li>
        </ul>
    </p>
    <p class="meta">[Data Science, Business Analyst], [Flipkart, Amazon], 3</p>
    <hr>
    
    <h3>34. Explain how an F-test is used in testing for the equality of variances.</h3>
    <p>
        An F-test can directly compare the variances of two normally distributed populations.
    </p>
    <ol>
        <li><strong>State Hypotheses:</strong>
            <ul>
                <li><strong>Null Hypothesis ($H_0$):</strong> The variances of the two populations are equal ($\sigma_1^2 = \sigma_2^2$).</li>
                <li><strong>Alternative Hypothesis ($H_a$):</strong> The variances are not equal ($\sigma_1^2 \ne \sigma_2^2$).</li>
            </ul>
        </li>
        <li><strong>Calculate Sample Variances:</strong> Compute the sample variances ($s_1^2$ and $s_2^2$) for the two groups.</li>
        <li><strong>Calculate the F-statistic:</strong> The F-statistic is the ratio of the two sample variances, with the larger variance placed in the numerator to ensure $F \ge 1$. $$ F = \frac{s_1^2}{s_2^2} \quad \text{(where } s_1^2 \ge s_2^2) $$</li>
        <li><strong>Determine p-value:</strong> Compare the calculated F-statistic to an F-distribution with numerator degrees of freedom $df_1 = n_1 - 1$ and denominator degrees of freedom $df_2 = n_2 - 1$.</li>
        <li><strong>Conclusion:</strong> If the p-value is small, reject the null hypothesis and conclude that the population variances are significantly different.</li>
    </ol>
    <p class="meta">[Data Analyst, Data Scientist], [Google, Swiggy], 2</p>
    <hr>
    
    <h3>35. What assumptions must be met to perform an F-test?</h3>
    <p>The validity of an F-test relies on several key assumptions:</p>
    <ul>
        <li><strong>Independence:</strong> The samples drawn from the populations must be independent.</li>
        <li><strong>Normality:</strong> The populations from which the samples are drawn should be normally distributed. F-tests are quite sensitive to violations of this assumption.</li>
    </ul>
    <p>For ANOVA specifically, there is an additional assumption:</p>
    <ul>
        <li><strong>Homogeneity of Variances:</strong> The populations should have equal variances (homoscedasticity). Ironically, using an F-test to check this assumption is not recommended because of its sensitivity to non-normality. Tests like Levene's test or Bartlett's test are preferred.</li>
    </ul>
    <hr>
    
    <h3>36. How do you perform an F-test in Python using `scipy.stats`?</h3>
    <p>
        As mentioned, the most common F-test is part of ANOVA. The `scipy.stats.f_oneway` function is the direct way to perform this. For a simple F-test comparing two variances, you can calculate it manually and use `scipy.stats.f.sf` to get the p-value.
    </p>
    <pre><code>
import numpy as np
from scipy.stats import f

# Scenario: Test if two samples have equal variances
sample1 = np.random.normal(loc=10, scale=2, size=20)
sample2 = np.random.normal(loc=10, scale=3, size=25)

# Calculate sample variances
var1 = np.var(sample1, ddof=1)
var2 = np.var(sample2, ddof=1)

# Ensure the larger variance is in the numerator for the F-statistic
if var1 > var2:
    f_stat = var1 / var2
    df1 = len(sample1) - 1
    df2 = len(sample2) - 1
else:
    f_stat = var2 / var1
    df1 = len(sample2) - 1
    df2 = len(sample1) - 1

# Calculate the p-value from the F-distribution's survival function (sf)
# Multiply by 2 for a two-tailed test
p_value = f.sf(f_stat, df1, df2) * 2

print(f"Sample 1 Variance: {var1:.4f}")
print(f"Sample 2 Variance: {var2:.4f}")
print(f"\nF-statistic: {f_stat:.4f}")
print(f"P-value: {p_value:.4f}")

if p_value < 0.05:
    print("\nConclusion: The variances are significantly different.")
else:
    print("\nConclusion: The variances are not significantly different.")
    </code></pre>
    <p class="meta">[Data Science, Data Engineer], [Microsoft, Ola], 3</p>

    <h2>ANOVA and its Assumptions</h2>

    <h3>37. What is ANOVA, and why is it used in statistical analysis?</h3>
    <p>
        <strong>ANOVA</strong>, which stands for <strong>Analysis of Variance</strong>, is a statistical method used to test for significant differences between the means of two or more groups.
    </p>
    <p>
        It is used to answer the question: "Are the means of several groups equal?" For example, you could use ANOVA to determine if there is a significant difference in student test scores across three different teaching methods. While you could perform multiple T-tests between each pair of groups, this approach inflates the Type I error rate (the probability of a false positive). ANOVA analyzes all groups simultaneously in a single test, controlling this error rate. It does this by comparing the variation <strong>between</strong> the groups to the variation <strong>within</strong> the groups.
    </p>
    <hr>
    
    <h3>38. Explain the assumptions that need to be met before conducting an ANOVA test.</h3>
    <p>Before conducting an ANOVA test, three key assumptions must be met:</p>
    <ol>
        <li><strong>Independence:</strong> The observations in each group must be independent of each other. The selection of one subject should not influence the selection of another.</li>
        <li><strong>Normality:</strong> The data in each group should be approximately normally distributed. The residuals (the differences between observed values and the group means) should follow a normal distribution.</li>
        <li><strong>Homogeneity of Variances (Homoscedasticity):</strong> The variance within each of the groups should be approximately equal. This can be checked using Levene's test or Bartlett's test.</li>
    </ol>
    <hr>
    
    <h3>39. How does one-way ANOVA differ from two-way ANOVA?</h3>
    <p>The difference lies in the number of independent variables (also called factors) being analyzed:</p>
    <ul>
        <li><strong>One-Way ANOVA:</strong> This test involves <strong>one categorical independent variable</strong> (or factor) that defines the groups. For example, testing the effect of three different brands of fertilizer (the single factor) on crop yield. The goal is to see if there's a difference in the mean crop yield among the three brands.</li>
        <li><strong>Two-Way ANOVA:</strong> This test involves <strong>two categorical independent variables</strong>. It allows you to examine the effect of each factor on the dependent variable, as well as the <strong>interaction effect</strong> between the two factors. For example, testing the effect of fertilizer brand (Factor 1) AND soil type (Factor 2) on crop yield. This lets you determine if the effect of the fertilizer brand depends on the type of soil.</li>
    </ul>
    <hr>
    
    <h3>40. Provide a Python implementation of ANOVA using `statsmodels` or `scipy.stats`.</h3>
    <p><strong>Using `scipy.stats` (for One-Way ANOVA):</strong></p>
    <pre><code>
from scipy import stats

group1 = [85, 86, 88, 75, 78, 94, 98, 79, 71, 80]
group2 = [91, 92, 93, 85, 86, 87, 94, 96, 82, 85]
group3 = [79, 78, 88, 94, 92, 85, 83, 85, 82, 81]

f_stat, p_val = stats.f_oneway(group1, group2, group3)
print(f"Scipy One-Way ANOVA:")
print(f"F-statistic: {f_stat:.4f}, P-value: {p_val:.4f}")
    </code></pre>

    <p><strong>Using `statsmodels` (more flexible, allows for Two-Way ANOVA):</strong></p>
    <pre><code>
import pandas as pd
import statsmodels.api as sm
from statsmodels.formula.api import ols

# Create a DataFrame for Two-Way ANOVA
data = {'yield': [20, 22, 18, 25, 27, 24, 15, 17, 14, 21, 23, 19],
        'fertilizer': ['A', 'A', 'A', 'B', 'B', 'B', 'A', 'A', 'A', 'B', 'B', 'B'],
        'soil': ['Clay', 'Clay', 'Clay', 'Clay', 'Clay', 'Clay', 
                 'Loam', 'Loam', 'Loam', 'Loam', 'Loam', 'Loam']}
df = pd.DataFrame(data)

# Fit the ANOVA model
# C() indicates that the variable is categorical
model = ols('yield ~ C(fertilizer) + C(soil) + C(fertilizer):C(soil)', data=df).fit()
anova_table = sm.stats.anova_lm(model, typ=2)

print("\nStatsmodels Two-Way ANOVA:")
print(anova_table)
    </code></pre>
    <hr>
    
    <h3>41. What are the different types of ANOVA, and when should each be used?</h3>
    <ul>
        <li><strong>One-Way ANOVA:</strong> Use when you have <strong>one categorical independent variable</strong> and one continuous dependent variable. (e.g., comparing test scores across different schools).</li>
        <li><strong>Two-Way ANOVA:</strong> Use when you have <strong>two categorical independent variables</strong> and one continuous dependent variable. This allows you to test for main effects of each variable and their interaction. (e.g., comparing crop yield by fertilizer type and soil type).</li>
        <li><strong>Repeated Measures ANOVA:</strong> Use when you measure the same subjects multiple times. It's the ANOVA equivalent of a paired T-test but for more than two time points or conditions. (e.g., measuring patient anxiety levels at baseline, 1 month, and 3 months into a treatment).</li>
        <li><strong>MANOVA (Multivariate Analysis of Variance):</strong> Use when you have <strong>more than one continuous dependent variable</strong>. (e.g., comparing the effect of a diet on both weight loss and cholesterol level simultaneously).</li>
    </ul>
    <p class="meta">[Data Science, Business Analyst], [Flipkart, Google], 3</p>
    <hr>

    <h3>42. Explain the difference between one-way ANOVA and two-way ANOVA.</h3>
    <p>The primary difference is the <strong>number of independent variables (factors)</strong> being tested.</p>
    <ul>
        <li><strong>One-Way ANOVA</strong> investigates the effect of a <strong>single factor</strong> on a continuous dependent variable. It partitions the total variance into two components: variance between groups and variance within groups. Its null hypothesis is that the means of all levels of that single factor are equal.</li>
        <li><strong>Two-Way ANOVA</strong> investigates the effects of <strong>two factors</strong> simultaneously. It partitions the total variance into components attributable to Factor 1, Factor 2, the interaction between Factor 1 and Factor 2, and the residual (within-group) variance. It tests three null hypotheses: one for each factor's main effect and one for the interaction effect.</li>
    </ul>
    <p class="meta">[Data Analyst]</p>

</body>
</html>
